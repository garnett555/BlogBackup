#### Firekylin[官方的安装指南](https://github.com/firekylin/firekylin/wiki/%E5%AE%89%E8%A3%85)

其实整个流程十分简单，只不过自己真是笨到家了，外加买了一个阿里云的服务器，各种不方便，最终还是在[公子](https://github.com/lizheming)的大力帮助下，才搭建好，蠢哭。。
<!--more-->
好，下面来围绕官方的指南介绍一下搭建的流程：

首先，服务器上是需要有Node 4.0+环境的，因为Firekylin是基于ThinkJs的博客系统，而ThinkJs是依赖Node.js的，所以Node环境是必不可少的。直接在node的[官网](https://nodejs.org/zh-cn/download/)上面下载安装包，例如针对于我的服务器的话，直接在终端里输入：

```wget https://nodejs.org/dist/v6.11.2/node-v6.11.2-linux-x64.tar.xz```

然后在根目录解压即可。另外，还需要MySQL数据库环境，不过由于服务器上面已经有了，所以就跳过了。

做完准备工作，接下来进入第一步，下载Firekylin的安装包，同样的，在终端里输入：

```wget https://firekylin.org/release/latest.tar.gz```

然后第二步解压，这里我是将安装包下载到了/root/路径下，并在这里解压的。

第三步就是安装项目依赖，`npm install`一路呼呼呼，如果太慢的话，官方还贴心地贴出了镜像。

第四步是安装pm2，目的是用来管理Node.js的服务，守护进程，先`npm install -g pm2`，之后按照官方文档的介绍配置pm2.json和启动项目，文档里介绍得很清楚，不再赘述。

第五步就是配置Nginx了，也是我花费大量时间在上面的一步，被自己蠢哭还麻烦公子为我远程指导。。。首先按照官方文档介绍配置好`nginx.conf`，在这里我犯的错是修改root的value为`/root/firekylin/`，没有在后面加上`www/`，这里可能会马虎出错，请大家注意。修改好配置文件之后，由于我购买的ECS服务器是Apache的，所以还需要先在安装一个Nginx，可以借助yum和EPEL库来安装，也可以`wget`下载安装包解压来安装，我采用的后一种方式。接下来就是要将刚才修改好的nginx配置文件以软链的形式添加到nginx的配置目录下，（这里我找了半天。。。ps:我的在`/etc/nginx/conf.d`），之后启动nginx就完成这一步了，不过这里还要再说一下， 因为我的服务器默认是Apache，所以80端口默认被httpd占用了，所以在启动nginx之前要先关掉Apache。

之后就来到了最后一步，在浏览器访问博客地址，安装Firekylin，这里要将主机设置为127.0.0.1，因为程序访问的数据库是本机，蠢如我第一遍竟然填了服务器的IP，求当时公子心里的阴影面积。。

安装完成，大功告成！

对了，还要再吐槽一下阿里云。。默认好像只开了3个端口，80和8360端口都没有开放，需要到控制台里面去手动添加一下。

好啦，就先到这里吧，有疏漏和错误之处，欢迎各位大大指出！以后要养成写博客的习惯啦！晚安！

